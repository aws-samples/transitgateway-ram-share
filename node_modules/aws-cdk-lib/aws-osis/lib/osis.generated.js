"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CfnPipeline=void 0;const jsiiDeprecationWarnings=require("../../.warnings.jsii.js"),JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti"),cdk=require("../../core"),cfn_parse=require("../../core/lib/helpers-internal");function CfnPipelinePropsValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("logPublishingOptions",CfnPipeline_LogPublishingOptionsPropertyValidator)(properties.logPublishingOptions)),errors.collect(cdk.propertyValidator("maxUnits",cdk.requiredValidator)(properties.maxUnits)),errors.collect(cdk.propertyValidator("maxUnits",cdk.validateNumber)(properties.maxUnits)),errors.collect(cdk.propertyValidator("minUnits",cdk.requiredValidator)(properties.minUnits)),errors.collect(cdk.propertyValidator("minUnits",cdk.validateNumber)(properties.minUnits)),errors.collect(cdk.propertyValidator("pipelineConfigurationBody",cdk.requiredValidator)(properties.pipelineConfigurationBody)),errors.collect(cdk.propertyValidator("pipelineConfigurationBody",cdk.validateString)(properties.pipelineConfigurationBody)),errors.collect(cdk.propertyValidator("pipelineName",cdk.requiredValidator)(properties.pipelineName)),errors.collect(cdk.propertyValidator("pipelineName",cdk.validateString)(properties.pipelineName)),errors.collect(cdk.propertyValidator("tags",cdk.listValidator(cdk.validateCfnTag))(properties.tags)),errors.collect(cdk.propertyValidator("vpcOptions",CfnPipeline_VpcOptionsPropertyValidator)(properties.vpcOptions)),errors.wrap('supplied properties not correct for "CfnPipelineProps"')}function cfnPipelinePropsToCloudFormation(properties){return cdk.canInspect(properties)?(CfnPipelinePropsValidator(properties).assertSuccess(),{MaxUnits:cdk.numberToCloudFormation(properties.maxUnits),MinUnits:cdk.numberToCloudFormation(properties.minUnits),PipelineConfigurationBody:cdk.stringToCloudFormation(properties.pipelineConfigurationBody),PipelineName:cdk.stringToCloudFormation(properties.pipelineName),LogPublishingOptions:cfnPipelineLogPublishingOptionsPropertyToCloudFormation(properties.logPublishingOptions),Tags:cdk.listMapper(cdk.cfnTagToCloudFormation)(properties.tags),VpcOptions:cfnPipelineVpcOptionsPropertyToCloudFormation(properties.vpcOptions)}):properties}function CfnPipelinePropsFromCloudFormation(properties){if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("maxUnits","MaxUnits",cfn_parse.FromCloudFormation.getNumber(properties.MaxUnits)),ret.addPropertyResult("minUnits","MinUnits",cfn_parse.FromCloudFormation.getNumber(properties.MinUnits)),ret.addPropertyResult("pipelineConfigurationBody","PipelineConfigurationBody",cfn_parse.FromCloudFormation.getString(properties.PipelineConfigurationBody)),ret.addPropertyResult("pipelineName","PipelineName",cfn_parse.FromCloudFormation.getString(properties.PipelineName)),ret.addPropertyResult("logPublishingOptions","LogPublishingOptions",properties.LogPublishingOptions!=null?CfnPipelineLogPublishingOptionsPropertyFromCloudFormation(properties.LogPublishingOptions):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse.FromCloudFormation.getArray(cfn_parse.FromCloudFormation.getCfnTag)(properties.Tags):void 0),ret.addPropertyResult("vpcOptions","VpcOptions",properties.VpcOptions!=null?CfnPipelineVpcOptionsPropertyFromCloudFormation(properties.VpcOptions):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnPipeline extends cdk.CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnPipelinePropsFromCloudFormation(resourceProperties),ret=new CfnPipeline(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnPipeline.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings.aws_cdk_lib_aws_osis_CfnPipelineProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnPipeline),error}cdk.requireProperty(props,"maxUnits",this),cdk.requireProperty(props,"minUnits",this),cdk.requireProperty(props,"pipelineConfigurationBody",this),cdk.requireProperty(props,"pipelineName",this),this.attrIngestEndpointUrls=cdk.Token.asList(this.getAtt("IngestEndpointUrls",cdk.ResolutionTypeHint.STRING_LIST)),this.attrPipelineArn=cdk.Token.asString(this.getAtt("PipelineArn",cdk.ResolutionTypeHint.STRING)),this.attrVpcEndpoints=this.getAtt("VpcEndpoints",cdk.ResolutionTypeHint.STRING),this.maxUnits=props.maxUnits,this.minUnits=props.minUnits,this.pipelineConfigurationBody=props.pipelineConfigurationBody,this.pipelineName=props.pipelineName,this.logPublishingOptions=props.logPublishingOptions,this.tags=new cdk.TagManager(cdk.TagType.STANDARD,"AWS::OSIS::Pipeline",props.tags,{tagPropertyName:"tags"}),this.vpcOptions=props.vpcOptions}inspect(inspector){try{jsiiDeprecationWarnings.aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnPipeline.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}get cfnProperties(){return{maxUnits:this.maxUnits,minUnits:this.minUnits,pipelineConfigurationBody:this.pipelineConfigurationBody,pipelineName:this.pipelineName,logPublishingOptions:this.logPublishingOptions,tags:this.tags.renderTags(),vpcOptions:this.vpcOptions}}renderProperties(props){return cfnPipelinePropsToCloudFormation(props)}}_a=JSII_RTTI_SYMBOL_1,CfnPipeline[_a]={fqn:"aws-cdk-lib.aws_osis.CfnPipeline",version:"2.87.0"},CfnPipeline.CFN_RESOURCE_TYPE_NAME="AWS::OSIS::Pipeline",exports.CfnPipeline=CfnPipeline;function CfnPipeline_CloudWatchLogDestinationPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("logGroup",cdk.validateString)(properties.logGroup)),errors.wrap('supplied properties not correct for "CloudWatchLogDestinationProperty"')}function cfnPipelineCloudWatchLogDestinationPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnPipeline_CloudWatchLogDestinationPropertyValidator(properties).assertSuccess(),{LogGroup:cdk.stringToCloudFormation(properties.logGroup)}):properties}function CfnPipelineCloudWatchLogDestinationPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("logGroup","LogGroup",properties.LogGroup!=null?cfn_parse.FromCloudFormation.getString(properties.LogGroup):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnPipeline_LogPublishingOptionsPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("cloudWatchLogDestination",CfnPipeline_CloudWatchLogDestinationPropertyValidator)(properties.cloudWatchLogDestination)),errors.collect(cdk.propertyValidator("isLoggingEnabled",cdk.validateBoolean)(properties.isLoggingEnabled)),errors.wrap('supplied properties not correct for "LogPublishingOptionsProperty"')}function cfnPipelineLogPublishingOptionsPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnPipeline_LogPublishingOptionsPropertyValidator(properties).assertSuccess(),{CloudWatchLogDestination:cfnPipelineCloudWatchLogDestinationPropertyToCloudFormation(properties.cloudWatchLogDestination),IsLoggingEnabled:cdk.booleanToCloudFormation(properties.isLoggingEnabled)}):properties}function CfnPipelineLogPublishingOptionsPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("cloudWatchLogDestination","CloudWatchLogDestination",properties.CloudWatchLogDestination!=null?CfnPipelineCloudWatchLogDestinationPropertyFromCloudFormation(properties.CloudWatchLogDestination):void 0),ret.addPropertyResult("isLoggingEnabled","IsLoggingEnabled",properties.IsLoggingEnabled!=null?cfn_parse.FromCloudFormation.getBoolean(properties.IsLoggingEnabled):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnPipeline_VpcEndpointPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("vpcEndpointId",cdk.validateString)(properties.vpcEndpointId)),errors.collect(cdk.propertyValidator("vpcId",cdk.validateString)(properties.vpcId)),errors.collect(cdk.propertyValidator("vpcOptions",CfnPipeline_VpcOptionsPropertyValidator)(properties.vpcOptions)),errors.wrap('supplied properties not correct for "VpcEndpointProperty"')}function cfnPipelineVpcEndpointPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnPipeline_VpcEndpointPropertyValidator(properties).assertSuccess(),{VpcEndpointId:cdk.stringToCloudFormation(properties.vpcEndpointId),VpcId:cdk.stringToCloudFormation(properties.vpcId),VpcOptions:cfnPipelineVpcOptionsPropertyToCloudFormation(properties.vpcOptions)}):properties}function CfnPipelineVpcEndpointPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("vpcEndpointId","VpcEndpointId",properties.VpcEndpointId!=null?cfn_parse.FromCloudFormation.getString(properties.VpcEndpointId):void 0),ret.addPropertyResult("vpcId","VpcId",properties.VpcId!=null?cfn_parse.FromCloudFormation.getString(properties.VpcId):void 0),ret.addPropertyResult("vpcOptions","VpcOptions",properties.VpcOptions!=null?CfnPipelineVpcOptionsPropertyFromCloudFormation(properties.VpcOptions):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnPipeline_VpcOptionsPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("securityGroupIds",cdk.listValidator(cdk.validateString))(properties.securityGroupIds)),errors.collect(cdk.propertyValidator("subnetIds",cdk.listValidator(cdk.validateString))(properties.subnetIds)),errors.wrap('supplied properties not correct for "VpcOptionsProperty"')}function cfnPipelineVpcOptionsPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnPipeline_VpcOptionsPropertyValidator(properties).assertSuccess(),{SecurityGroupIds:cdk.listMapper(cdk.stringToCloudFormation)(properties.securityGroupIds),SubnetIds:cdk.listMapper(cdk.stringToCloudFormation)(properties.subnetIds)}):properties}function CfnPipelineVpcOptionsPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("securityGroupIds","SecurityGroupIds",properties.SecurityGroupIds!=null?cfn_parse.FromCloudFormation.getStringArray(properties.SecurityGroupIds):void 0),ret.addPropertyResult("subnetIds","SubnetIds",properties.SubnetIds!=null?cfn_parse.FromCloudFormation.getStringArray(properties.SubnetIds):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}
